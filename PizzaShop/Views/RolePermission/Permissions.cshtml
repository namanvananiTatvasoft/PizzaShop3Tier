@model DAL.ViewModel.PermissionModel;

@{
    Layout = "~/Views/Shared/_DashboardLayout.cshtml";
    ViewData["Title"] = "Permissions";
    ViewBag.Active = "RolePermission";
}
<head>
    <link rel="stylesheet" href="~/css/Permissions.css" asp-append-version="true" />
</head>

<div class="permission-container">

            <!-- name row -->
    <div class="row px-0 d-flex justify-content-between mb-3">
        <div class="col fs-3 fs-sm-2 fw-bold special-color">Permissions</div>
        <div class="col d-flex justify-content-end">

            <a asp-action="RolesList" class="d-flex align-items-center justify-content-center px-1 px-sm-2 fs-6" id="add-user-btn" style="text-decoration: none;">
                <div class="d-flex align-items-center justify-content-center w-100 h-100">
                    Back
                </div>
            </a>

        </div>
    </div>

            <!-- permissions toggle -->
    
    <form class="permission-toggles border rounded" method="post" asp-action="Permissions">

        <div class="row d-flex align-items-center mt-3">
            <div class="col-7 col-lg-5 form-floating mb-3 input-class justify-content-between align-items-center">
                <input type="text" class="form-control ps-3 pb-3" id="roleInput" placeholder="Account Manager" asp-for="@Model.RoleName" disabled>
                <input type="text" class="form-control ps-3 pb-3" id="roleInput" placeholder="Account Manager" asp-for="@Model.RoleName" hidden>
                <input type="number" asp-for = "RoleId" hidden>
                <label for="floatingInput">Role</label>
            </div>
        </div>

        <div class="table-responsive">
            <table class="table">
                <tbody>
                    <tr>
                        <th scope="col">
                            <div class="form-check me-2">
                                <input class="form-check-input outer-check me-3" type="checkbox" value="" id="flexCheckDefault"><span>Permission</span>
                            </div>
                        </th>
                        <th scope="col">Can View</th>
                        <th scope="col">Can Add/Edit</th>
                        <th scope="col">Can Delete</th>
                    </tr>

                    @for(int i=0; i<Model.Permissions.Count; i++)
                    {
                        <tr>
                            <input type="text" hidden asp-for ="@Model.Permissions[i].PermissionId">
                            <input type="text" hidden asp-for ="@Model.Permissions[i].PermissionName">

                            <td class="">
                                <div class="form-check me-2 is-enable">
                                    <input class="form-check-input inner-check me-3" type="checkbox" id="flexCheckDefault" asp-for="@Model.Permissions[i].IsEnable"><span>@Model.Permissions[i].PermissionName</span>
                                </div>
                            </td>
                            <td>
                                <div class="form-check form-switch can-view">
                                    <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked" asp-for="@Model.Permissions[i].CanView" style="height: 23px; width: 2.5rem;">
                                </div>
                            </td>
                            <td>
                                <div class="form-check form-switch can-add-edit">
                                    <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked" asp-for ="@Model.Permissions[i].CanAddEdit" style="height: 23px; width: 2.5rem;">
                                </div>
                            </td>
                            <td>
                                <div class="form-check form-switch can-delete">
                                    <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked" asp-for ="@Model.Permissions[i].CanDelete" style="height: 23px; width: 2.5rem;">
                                </div>
                            </td>
                        </tr>
                    }
                    
                    @* @foreach (var item in Model.Permissions)
                    {
                        <tr>
                            <input type="text" hidden asp-for ="@item.PermissionId">
                            <input type="text" hidden asp-for ="@item.PermissionName">

                            <td class="">
                                <div class="form-check me-2 is-enable">
                                    <input class="form-check-input inner-check me-3" type="checkbox" id="flexCheckDefault" asp-for="@item.IsEnable"><span>@item.PermissionName</span>
                                </div>
                            </td>
                            <td>
                                <div class="form-check form-switch can-view">
                                    <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked" asp-for="@item.CanView">
                                </div>
                            </td>
                            <td>
                                <div class="form-check form-switch can-add-edit">
                                    <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked" asp-for ="@item.CanAddEdit">
                                </div>
                            </td>
                            <td>
                                <div class="form-check form-switch can-delete">
                                    <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked" asp-for ="@item.CanDelete">
                                </div>
                            </td>
                        </tr>
                    } *@

                    @* <tr>
                        <td class="">
                            <div class="form-check me-2">
                                <input class="form-check-input inner-check me-3" type="checkbox" value="" id="flexCheckDefault"><span>Customers</span>
                            </div>
                        </td>
                        <td class="text-align align-middle">
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked" checked>
                            </div>
                        </td>
                        <td>
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked" checked>
                            </div>
                        </td>
                        <td >
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked" checked>
                            </div>
                        </td>
                    </tr> *@

                </tbody>
            </table>
        </div>

        <div class="d-flex justify-content-end align-items-center mt-3">
            <button class="save-cancel-btn" id="save-btn" type="submit">
                Save
            </button>
            <a asp-action="RolesList">
                <button class="save-cancel-btn" id="cancel-btn" type="button">
                    Cancel
                </button>
            </a>
        </div>

    </form>


</div>

<script src="~/js/permissions.js" asp-append-version="true"></script>
